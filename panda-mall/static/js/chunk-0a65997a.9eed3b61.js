(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a65997a"],{"5d96":function(e,t,n){},bd01:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[e._m(0),n("van-form",{staticClass:"form",on:{submit:e.onSubmit}},[n("van-field",{attrs:{type:"number",required:"",clearable:"",name:"手机号",label:"手机号",placeholder:"请输入手机号",rules:[{validator:e.checkPhoneNum,required:!0,message:"请填写正确的手机号！"}]},model:{value:e.form.phonenum,callback:function(t){e.$set(e.form,"phonenum",t)},expression:"form.phonenum"}}),n("van-field",{attrs:{type:"number",required:"",center:"",clearable:"",name:"手机号",label:"验证码",placeholder:"请输入短信验证码",rules:[{required:!0,message:"请填写正确的验证码！"}]},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[n("van-button",{attrs:{slot:"button",size:"small",plain:"",type:"info","native-type":"button"},on:{click:function(t){t.stopPropagation(),e.form.password=1234}},slot:"button"},[e._v("发送验证码")])],1),n("div",{staticStyle:{margin:"36px"}},[n("van-button",{attrs:{round:"",block:"",loading:e.loading,type:"info","loading-text":"登录中...","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"header"},[o("img",{staticClass:"header__logo",attrs:{src:n("cf05"),alt:"logo"}}),o("p",{staticClass:"header__title"},[e._v("panda-mall")])])}],r={name:"Login",data:function(){return{form:{phonenum:123456789,password:1234},loading:!1}},watch:{$route:{handler:function(e){console.log("route:",e),this.redirect=e.query&&e.query.redirect||"/"},immediate:!0}},methods:{checkPhoneNum:function(e){if(123456789===e)return!0;var t=/^[1][3,4,5,7,8][0-9]{9}$/;return!!t.test(e)},onSubmit:function(){var e=this;this.loading=!0,this.$store.dispatch("user/login",this.form).then((function(){e.$notify({type:"success",message:"登录成功",duration:2e3,onOpened:function(){location.href=e.redirect,e.loading=!1}})})).catch((function(){e.loading=!1}))}}},i=r,s=(n("f89b"),n("2877")),l=Object(s["a"])(i,o,a,!1,null,"36327d72",null);t["default"]=l.exports},cf05:function(e,t,n){e.exports=n.p+"static/img/logo.973a6b85.png"},f89b:function(e,t,n){"use strict";var o=n("5d96"),a=n.n(o);a.a}}]);