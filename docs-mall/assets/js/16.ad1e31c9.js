(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{262:function(t,o,e){"use strict";e.r(o);var _=e(28),a=Object(_.a)({},(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"_1、关于yapi"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、关于yapi"}},[t._v("#")]),t._v(" 1、关于yapi")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("上节我们说了关于代理转发、跨域啊这么一些问题，对于数据的伪造我们使用了yapi，因为这样的话既可以很好的维护一封api文档，又可以进行数据的mock，这是我们这个项目的的接口文档："),e("a",{attrs:{href:"http://yapi.demo.qunar.com/project/17982",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-mall"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("code",[t._v("yapi")]),t._v("就是一个接口管理平台了，顺带做些数据mock。")])])]),t._v(" "),e("h3",{attrs:{id:"_2、简单使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、简单使用"}},[t._v("#")]),t._v(" 2、简单使用")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("怎么用看"),e("code",[t._v("yapi")]),t._v("文档，官方文档还是讲的比较清晰的，我这里就以项目中使用了的来举几个列子。")])]),t._v(" "),e("li",[e("p",[t._v("登录注册一个账号以后，你可以创建一些分类，对接口分门别类，这样的话就比较清晰，也利于维护。")])])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/3/1713e0be1d486794?w=1240&h=627&f=png&s=110463",alt:"界面概览"}})]),t._v(" "),e("ul",[e("li",[t._v("然后可以去新建一个接口，点击编辑什么的就可以定义你所返回的数据了，以我们项目中的"),e("code",[t._v("获取用户信息")]),t._v("为例。")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/3/1713e0be1ef6c6ed?w=1240&h=644&f=png&s=105689",alt:"新建接口"}})]),t._v(" "),e("h3",{attrs:{id:"_3、高级mock"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、高级mock"}},[t._v("#")]),t._v(" 3、高级mock")]),t._v(" "),e("ul",[e("li",[t._v("一般我不用"),e("code",[t._v("普通mock")]),t._v("来进行编写，因为太繁琐了，还要一个个去输入框里输入，所以基本项我们"),e("code",[t._v("panda-mall")]),t._v("项目中在yapi上的mock都是使用的"),e("code",[t._v("高级mock")]),t._v("功能。")]),t._v(" "),e("li",[t._v("还是以我们的"),e("code",[t._v("获取用户信息")]),t._v("这个接口为例，让我们进入"),e("code",[t._v("高级mock")]),t._v("这个tab栏中，输入：")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/3/1713e0be2132429b?w=1240&h=707&f=png&s=83542",alt:"高级mock"}})]),t._v(" "),e("h3",{attrs:{id:"_4、小结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、小结"}},[t._v("#")]),t._v(" 4、小结")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("就是这么简单，"),e("code",[t._v("mockJson")]),t._v("就是定义的我们请求返回的数据，看看官网的yapi"),e("a",{attrs:{href:"https://hellosean1025.github.io/yapi/documents/adv_mock.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("高级mock的教程"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("li",[e("p",[t._v("因为"),e("code",[t._v("高级mock")]),t._v("用的是"),e("a",{attrs:{href:"https://github.com/nuysoft/Mock/wiki",target:"_blank",rel:"noopener noreferrer"}},[t._v("mockJS"),e("OutboundLink")],1),t._v("的语法，所以可以满足数据mock的很多需求，如实现分页啊、随机数、时间戳啊等等。")])]),t._v(" "),e("li",[e("p",[t._v("对于这个接口，我既定义了"),e("code",[t._v("普通mock")]),t._v("，又定义了"),e("code",[t._v("高级mock")]),t._v("，那么优先级呢？这个比较重要了，请看好：")])])]),t._v(" "),e("blockquote",[e("p",[t._v("请求 Mock 数据时，规则匹配优先级：Mock 期望 > 自定义 Mock 脚本 > 项目全局 mock 脚本 > 普通 Mock。"),e("br"),t._v("\n如果前面匹配到 Mock 数据，后面 Mock 则不返回。")])])])}),[],!1,null,null,null);o.default=a.exports}}]);