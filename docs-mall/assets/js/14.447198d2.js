(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{258:function(t,s,a){"use strict";a.r(s);var e=a(28),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"_1、数据mock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、数据mock"}},[t._v("#")]),t._v(" 1、数据mock")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("数据mock我们使用"),a("a",{attrs:{href:"https://hellosean1025.github.io/yapi/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("yapi"),a("OutboundLink")],1),t._v("这个接口平台来管理，这样的话既可以很好的维护一封api文档，又可以进行数据的mock，这是我们这个项目的的接口文档："),a("a",{attrs:{href:"http://yapi.demo.qunar.com/project/17982",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-mall"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("你也可以使用"),a("code",[t._v("mockjs")]),t._v("、"),a("code",[t._v("esaymock")]),t._v("之类的，其实都差不多，yapi还是很好用的，一些基础的用法文档都有讲，在项目中我用"),a("a",{attrs:{href:"https://hellosean1025.github.io/yapi/documents/adv_mock.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("高级mock"),a("OutboundLink")],1),t._v("的比较多，反正都是写js也可以用"),a("code",[t._v("mockjs")]),t._v("的语法，还是挺方便的。")])])]),t._v(" "),a("h3",{attrs:{id:"_2、代理转发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、代理转发"}},[t._v("#")]),t._v(" 2、代理转发")]),t._v(" "),a("ul",[a("li",[t._v("其实代理转发就是配置下webpack的"),a("code",[t._v("devServer")]),t._v("，详见"),a("a",{attrs:{href:"https://www.jianshu.com/p/a59ee9d14617",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack从0到1-devServer初探"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[t._v("而在"),a("code",[t._v("vue-cli3.x")]),t._v("的脚手架生成了项目中，因为隐藏了webpack的配置文件，所以新建一个vue.config.js，然后在所提供的"),a("a",{attrs:{href:"https://cli.vuejs.org/zh/config/#devserver",target:"_blank",rel:"noopener noreferrer"}},[t._v("config配置"),a("OutboundLink")],1),t._v("文件修改下就行，原理还是一样的。")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mockUrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://yapi.demo.qunar.com/mock/17982'")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  devServer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    open"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    overlay"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      warnings"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      errors"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    proxy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dev-api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" mockUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        pathRewrite"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^/dev-api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        secure"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        changeOrigin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("h3",{attrs:{id:"_3、关于跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、关于跨域"}},[t._v("#")]),t._v(" 3、关于跨域")]),t._v(" "),a("ul",[a("li",[t._v("很多同学本地mock、跟后端同学联调啊什么的不成功，很多情况都是因为跨域问题报错，其实处理跨域问题一般就是两种方案。\n"),a("ul",[a("li",[t._v("一种就是上文中的使用webpack的devServer，配置一下实现代理转发，这个其实就是一点webpack的基础知识，推荐大家可以去看看"),a("a",{attrs:{href:"https://www.jianshu.com/p/a59ee9d14617",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack从0到1-devServer初探"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[t._v("一种就是"),a("code",[t._v("CORS")]),t._v("，就是让服务端去设置一些http中的"),a("code",[t._v("Access-Control-Allow-Methods")]),t._v("、"),a("code",[t._v("Access-Control-Allow-Origin")]),t._v("、"),a("code",[t._v("allow-***")]),t._v("这么一些东西，跟预请求有关，你感兴趣可以去搜下，这里不多说。")]),t._v(" "),a("li",[t._v("两者原理都是一样，都是起个中转服务器来规避同源协议的问题。")])])])]),t._v(" "),a("h3",{attrs:{id:"_4、小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、小结"}},[t._v("#")]),t._v(" 4、小结")]),t._v(" "),a("ul",[a("li",[t._v("总而言之，"),a("code",[t._v("vue")]),t._v("的脚手架升级了以后，开发配置一个项目还是变得更简单了。")]),t._v(" "),a("li",[t._v("对于老版本的脚手架配置方式："),a("a",{attrs:{href:"https://www.jianshu.com/p/896f8127fe60",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.jianshu.com/p/896f8127fe60"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("欢迎大家围观项目中的一些实际的用法。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);